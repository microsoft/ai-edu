# 6.4 需求层次的故事分析

从需求讲述人来看，不同人所处的位置不同，从而给出不同层次的需求，按照业界惯例，我们一般定义三个层次，即：

- 业务需求
- 用户需求
- 功能需求

【slide】

下面的故事虽然是面向学校教育系统软件的需求分析，而面向企业的软件需求层次也是大同小异，同样可以分为三个层次。但是面向大众的软件，比如我们常用的办公软件、手机软件，就不符合这三个层次特征，我们将在第七章讲述。

## 6.4.1 业务需求（Business Requirement）

我们先来看看校长和教务处主任的需求。

- 校长主要是讲政策方面的内容，以及国家对学校、企业的期望，是一个宏观的大需求；
- 教务处主任从教材入手，反映了目前高校存在的 AI 教育的普遍问题，即难度大，学生不易听懂。所以，主任的需求很简明扼要：提供一门让学生能够听懂的AI课程。

我们把这种需求叫做业务需求（因为需求来自业务管理者）。

表示组织或客户高层次的目标。业务需求通常来自项目投资人、购买产品的客户、实际用户的管理者、市场营销部门或产品策划部门。业务需求描述了组织为什么要开发一个系统，即组织希望达到的目标。

业务需求一般是使用前景和范围（vision and scope）文档来记录业务需求，这份文档有时也被称作项目轮廓图或市场需求（project charter 或 market requirement）文档，但是这类文档超出了本书的讨论范围。$^{[2]}$

- 来源：投资人、负责人、管理者等，非直接用户。
- 内容：说明需求的背景原因、系统目标、战略理念。
- 作用：指导系统构建的根本目标。

也有一些观点认为这一层叫做目标需求，下一层叫做业务需求$^{[3]}$。还有另外一种分类方法，把校长的宏观需求称作“组织级需求”，把教务处主任的需求称作“业务需求”。我们在这里按照大多数文献的命名方式，以便读者可以方便地相互对照。

通过对这一层次需求的调研，应该画出“上下文图”作为输出。

## 6.4.2 用户需求（User Requirement）

我们再来看看老师们和机房主任的需求。

- 老师们对教材、时间、讲课方法等都有自己的一些看法，因为 AI 相关课程的难度是一些传统课程不能比拟的，实际上也是变相地表达了对 AI 教育系统的期望（需求）；
- 机房主任关心的机房软硬件设备对系统的支持，是否需要升级、如何维护等等问题；
- 学生们对上课的体验、作业的体验有自己的要求。

我们把这种需求叫做用户需求（因为需求来自直接用户）。

它描述的是用户的目标，或用户要求系统必须能完成的任务。用例、场景描述、事件/响应表都是表达用户需求的有效途径。也就是说用户需求描述了用户能使用系统来做些什么。

- 来源：系统的实际操作、使用者。
- 内容：从岗位自身的实际工作内容出发，讲述系统可以完成什么任务。
- 作用：指导系统设计、产品规划、功能优化。

通过对这一层次需求的理解，应该画出“用例图”和“用例说明”作为输出。

## 6.4.3 功能需求（Functional Requirement）

第三层次的需求，有些直接来自用户，更多的来自需求分析人员的需求分析结果。

这些需求分析人员被称为系统分析员，在微软没有为这个角色专门设立岗位，而是由资深的开发人员担任。系统分析员一般被要求在领域和技术两个方面都有较深的理解，才能够架起从需求到设计的桥梁。需求分析的结果就是《需求规格说明书》。

功能需求描述开发人员需要实现什么，习惯上总是用“应该”对其进行描述：“系统应该发送电子邮件来通知用户已接受其预定”，有时也被称作行为需求（behavioral requirement）。用户利用这些功能来完成任务，满足业务需求。

产品特性（feature），是指一组逻辑上相关的功能需求，它们为用户提供某项功能，使业务目标得以满足。对商业软件而言，特性则是一组能被客户识别，并帮助他决定是否购买的需求，也就是产品说明书中用着重号标明的部分。

比如微软最新发布的 Edge 浏览器，有一个特性（feature）叫做 Save money with price comparison，意思是通过比较（商品价格）来省钱。这个特性通过 Collections（收藏集）来实现，而 Collections 里面又包含一堆的操作，如增加、删除、移动等等功能。

【slide】 edge的feature页面截图

- 来源：业务管理者、系统使用者、需求分析结果。
- 内容：描述系统提供的功能或功能组，以及对每个功能的具体描述。
- 作用：指导系统后续的设计和开发，是需求分析的完成标志。

通过对这一层次需求的分析，应该输出《需求规格说明书》，还有其它一些重要的图和模型，将会在下几节中详细说明。

