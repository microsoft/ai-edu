## 2.3 系统思维能力

在上一节中提到过“解决问题的能力”，是指的一些简单的问题，只需要做出一两个正确的动作就可以解决。如果问题的依赖链条较长，就需要“系统思维能力”了。

我们先用一个具体的例子来解释这两者的关系。

木头在面试求职者时，前面当然会考察算法和编码能力，如果都后面还有时间的话，总会问下面这个问题：**北京城区需要有多少个加油站，可以满足加油排队时间不超过 10 分钟？**

要解决这个问题需要一系列的假设数据支持，有些数据是可以从网上查到的，有些是常识，剩下的就需要靠推理了。

正确的解题思路如下：

#### 1. 北京有多少人口？

可以从官方的数据上得知，北京的常驻人口为 2100 万。

#### 2. 汽车保有量

假设是三个人组成一个家庭，那么一共有 700 万个家庭。假设每个家庭拥有一辆汽车，则一共有 700 万辆汽车。

但是由于以下因素，会造成这一数字的不准确：

- 摇号限制购买的措施，这个数字会减少
- 很多年轻人还没有成家，但也可能有私家车，这个数字会增加
- 北京还有很多企事业单位用车
- 北京的出租车大概有 60000 辆

上面几个条件有增有减，所以最后的汽车保有量大概就是 700 万辆左右。

#### 3. 出车率

不是每个有车的人都要开车，并且距离上班比较近的人不会开车上下班，还有限号措施（我们忽略电动汽车，因为它数量较少而且不需要加油）。据在木头居住的小区内观察，每天的出车率比疫情之前减少很多，大概只有 30%。这说明大家都有了节能环保绿色出行的理念，当然，也有可能是单位附近的停车费太高。

那么每天在马路上跑的车大概有 700 万辆 x 30% = 210 万辆

#### 4. 每天行驶多少公里？

北京的面积是 1.6 万平方公里，近似圆形，那么根据 $S=\pi r^2$ 公式，得到 $r=71$ 公里。由于此问题是估算北京城区的加油站数量，所以减去 2/3，可以认为半径为约 25 公里。也就是说人们上下班开车来回的平均距离为 25公里 x 2 = 50 公里左右。

#### 5. 一箱油可以跑几天？

- 大排量汽车越来越多，SUV 已经成为了购车首选，所以导致车辆每百公里耗油平均为 8 升。

- 一般的汽车的油箱容积为 50 升，按一周开5天（4天工作日 + 1天休息日开车出门办事或旅游）。

50 升 / 8升 x 100公里 = 625 公里，这是一个理想的里程。在城市里开，实际上是 500 公里左右就需要加油。

那么一箱油可以跑：500公里 / 50公里每天 = 10天

#### 6. 每天有多少车需要加油？

10天 / 5天每周 = 2周，即大概每个月加两次油，平均 15 天加一次油。
那么每天需要加油的车辆为 210万辆 / 15天 = 14 万辆。

#### 7. 加油站的服务质量

- 以 92 号汽油为例，加油站一般有至少 4 把油枪，可以同时加油，即可以同时服务 4 辆车。
- 每辆车的加油时长大概是 2 分钟。
- 我们要保证排队时间不超过 10 分钟，加上司机付费的时间，大概是每把油枪排 4 辆车。

那么每小时可以给 60分钟 / 10分钟 x 4把油枪 = 24 俩车加油，可以约等于 25 辆车。

全天 24 小时营业，但是司机一般会在早晚上下班的时段来加油，也就是峰值时段大约是 4 个小时。

每个加油站可以一天加油 25辆车 x 4 小时峰值时段 = 100 辆车。

如果忽略了这个峰值时段，那么需要的加油站数量将会大大减少。就好比在双 11 购物节的时候，大量的用户涌入网站，需要 10000 台服务器才能处理，而在平时，只需要 1000 台服务器就可以搞定。

假设一个加油站要花很多钱，那么多加一把油枪不会花很多钱，所以可以用增加油枪数量的办法来缓冲峰值时段问题。

#### 8. 需要多少个加油站？

14万辆 / 100辆 = 1400 个加油站

所以最后的答案就是 1400 个加油站。如果推算出 1000~1500 个，都是在合理范围内。



什么是系统性思维

解决问题的能力
