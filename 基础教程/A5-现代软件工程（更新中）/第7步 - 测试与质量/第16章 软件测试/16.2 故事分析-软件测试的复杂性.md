## 故事分析-软件测试的必要性和复杂性

软件测试的重要性是和软件所服务的用户数量正相关的：越是成熟的公司，越是大型的软件就越需要完善测试，层层把关。软件测试的复杂性会随着软件本身的复杂性的上升而上升。如果是简单明确的程序或者脚本，自测验证即可；而对于例如微软内部的Windows或者Office大型产品线，测试的计划需要在产品设计阶段就介入，在架构和组件层面要考虑软件的可测试性，确保Testable，并设计和逐步建立完善的、全方位的测试体系，来保障问题尽早被发现（Fail fast）。

对于微软这样用户规模很大（亿级别）的公司来讲，任何一次“小的”软件质量事故，哪怕是只有万分之一的概率出现，也可能会影响成千上万的用户，破坏体验、口碑，甚至演变成为公关事件，影响公司声誉，造成巨大的商业损失。

既然如此，什么能为软件产品的上线、版本更新带来信心呢？测试这一活动，通过衡量实际情况与预期之间差距，正是增加对软件质量信心的关键活动。团队在上线前，看到一份“测试通过”的测试报告，自然会更放心一点。

<img src="img/Slide3.SVG"/>

### 测试与质量保证

从刚刚木头和小陈的故事当中，我们也可以体会到这点：代码有单元测试覆盖，所以会小陈会觉得自己的修改有保障，获得了“迷之自信”；但实际情况是，代码依然存在严重问题。而小陈后来反思的时候，看到了书上的"测试是为发现错误而执行程序的过程"，也得到了一些启发。这些共同说明：

1. 开发人员的自测是有很大局限性的。
2. 仅靠测试是无法保障产出高质量软件。
3. 从心理学、活动意图角度上讲，测试不应该是为了增加信心的，不能让测试变成“自卖自夸”；而是应该以一种略带质疑的审视，假定软件有问题的前提下，努力的把问题找出来。这样的测试才可能会更有成效、更有意义。

故事中，小陈认为只有一行代码的修改并且是局部变量的改动，“问题不大”，忽视了所谓的“边界”情况。而测试就是要发现软件错误和异常情况。

当今时代编程已经发生了更多的演化：我们有越来越多的类库、别人写好的方法可以调用，有越来越多的“轮子”、“巨人的肩膀”来加速功能实现。这就意味着，一行代码可能暗藏着很深的调用栈和很长的调用链条。木头作为资深的工程师，意识到即使是小的改动也可能引入问题，尤其是在复杂的软件系统、数据场景中。当软件足够复杂，“简单”的改动已经非常不可信，务必进行相应的测试，以避免潜在的问题。

木头作为经验丰富的同事，担任着指导和教育小陈的角色。他强调了测试的重要性，并解释了测试的流程和不同阶段的测试类型。在软件开发中，测试团队在保证软件质量方面的重要作用。然而质量并不是测试团队的“锅”，软件质量保障是整个团队的责任。

要做好测试，需要了解和运用一系列的测试知识和工具。木头也提到，不仅仅有单元测试，还有其他类型的测试，如集成测试、回归测试、压力测试等，并解释了这些测试环节在保证软件质量方面的作用：在不同层次和环境中验证软件的正确性和稳定性。

总的来说，软件测试发展至今，体系庞大、功能也很强大，但它不是万能的。它是确保软件质量的关键环节之一。开发人员应该积极参与测试，并与测试团队合作，打造体系，诚实勇敢地去发现问题、重视问题、面对问题、评估问题和最终解决问题，共同提高软件的质量和可靠性。
