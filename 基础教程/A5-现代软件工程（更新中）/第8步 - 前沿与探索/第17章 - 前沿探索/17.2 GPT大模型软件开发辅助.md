
## 17.2 浅评 ChatGPT 在软件开发上的辅助能力

以下文章是复旦大学计算机科学技术学院副院长彭鑫教授于 2023-03-31 19:14 在微信公众号 CodeWisdom 发布的，笔者征得彭教授的同意后全文摘抄。在此特别感谢彭教授！

以下是 CodeWisdom.net 的自我介绍，希望对软件工程感兴趣的读者给与关注：

*CodeWisdom 是中国复旦大学的软件工程研究团队。我们的研究兴趣主要集中在人工智能的软件工程方法和工具（即AI4SE和SE4AI）。在 AI4SE 的方向上，我们正在探索使用人工智能技术进行软件开发、维护和运营的数据驱动软件工程技术和工具，包括：软件分析和大数据分析，以提高软件开发质量和效率；使用深度学习和知识图谱等人工智能技术进行智能代码推荐和软件开发问答；云原生（微服务）架构和 AIOps（用于 IT 运营的人工智能）。在 SE4AI 的方向上，我们正在探索人工智能应用程序的开发、维护和运营所需的软件工程技术和软件基础设施，包括：泛在计算的软件基础设施和敏捷应用程序开发；用于机器人和机器人程序的测试/调试/操作的程序合成；用于机器学习和基于深度学习的应用程序的软件开发、测试、维护和操作方法。我们的作品获得了 ICSM 2011 最佳论文奖、ASE 2018/2021 ACM SIGSOFT 杰出论文奖、ICSME 2018/2019/2020 IEEE TCSE 杰出论文奖和 IEEE 软件工程汇刊 2018 最佳论文奖。除了发表论文，我们还与领先的 IT 和互联网公司密切合作。与此同时，我们正在基于我们的研究开发软件系统和工具。该网站提供我们正在开发的一些软件系统和工具的演示和在线服务。欢迎对我们的系统和工具提出任何建议和反馈。*


原文中 GPT 的回答是用截图方式展示的（图片分辨率较低），笔者使用 OCR 软件把截图转变成文字，并且修改了部分章节编号以便于排版阅读，并不影响原文思想。


### 17.2.1 背景

 ChatGPT  于 2023 年正式公测后，凭借其强大的自然语言处理能力迅速获得业内广泛关注，特别是辅助软件开发上，初步表现出了令人满意的能力，然而正当业内积极探索引入 ChatGPT 后的新工作模式之时，OpenAI 又发布了基于 GPT-4 架构的升级版本，在语言理解、逻辑推理、情感分析等方面赋予了 ChatGPT 更优的表现，甚至引入了多模态的能力。这一升级让人印象深刻的同时，也让人对 ChatGPT 的能力有了更多的不确定：

- ChatGPT 在软件开发上究竟能提供多大的辅助？
- 在 GPT-4 的加持之下， ChatGPT  在软件开发辅助上的表现是否真的更加优秀？
- 传统软件开发究竟又会因此发生怎样的变化？

带着这些疑问，我们以两个前后端分离的本科课程项目为素材，以具体的项目场景为背景，对 ChatGPT 在软件开发上的辅助能力进行了简要的测评。

（注：为方便行文，后文提及的GPT-3.5指“基于GPT-3.5的 ChatGPT ”， GPT-4 则指“基于 GPT-4 的 ChatGPT ”。）


### 17.2.2 需求生成


第一部分，我们模拟一个从零开始的开发场景，开发者只有一个关于目标系统的基础概念，将需求分析和细化工作全部交给 ChatGPT 生成。为了结果尽可能细致，我们在prompt时加入了功能和非功能性需求的拆分。

#### 1. 对目标系统的概念描述

我们现在需要痞建一个基于 Spring 框架的教务管理系统，你能否帮我们尽可能完善地进行功能和日需求设计？

#### 2. GPT-3.5 生成的功能性需求

```
当涉及到开发一个基于 Spring 框架的教务管理系统时，需要考虑到以下的功能和非功能需求：

功能需求：

用户管理：
1. 用户注册和登录功能，包括学生、教师和管理员账户。
2. 学生可以查看个人信息、成绩、选课情况和课程表等信息。
3. 教师可以查看个人信息、教学安排、学生选课情况和成绩等信息。
4. 管理员可以管理学生和教师账户、课程和课程表等信息。

课程管理：
1. 添加、修改和删除课程信息。
2. 设置课程的教学计划和教学方式。
3. 设置课程的选修要求和学分要求。
4. 导入和导出课程信息。

选课管理：
1. 学生可以在指定时间内选课，退课。
2. 学生可以查询已选课程和课程成绩。
3. 教师可以查询学生选课情况和成绩。

成绩管理:
1. 教师可以录入学生成绩。
2. 学生可以查寻个人成绩和排名。
3. 教师和管理员可以查洵班级成绩和排名。
4. 系统可以自动生成成绩报表。

其他：
1. 学生可以申请学籍变更、休学、复学、转专业等操作。
2. 教师可以申请请假和调课。
3. 系统可以自动生成学生的绩点和学业预警。
4. 系统可以自动生成各种报表，如课表、选课情况、成绩统计等。

非功能需求：

安全性：
1. 系统需要对用户的登录信、个人信息和成绩等敏感信息进行加密存和传输。
2. 系统需要对用户权限进行严格控制，确保只有具有合法权限的用户才能访问相关信息。
3. 系统需要进行安全审计，记录用户的操作日志，以便对异常操作进行追踪和调查。

性能：
1. 系统需要具备高并发处理能力，在繁忙的选课期间保持稳赴性。
2. 系统需要具备高可用性，能够在硬件故或网络故嶂的情况下保证服务的可用性。
3. 系统需要具备良好的扩展性，能够根据业务需求灵活扩展计算和存储资源。

可维护性：
1. 系统需要具备良好的代码规范，以便开发人员快速理解维护代码。
2．系统需要具备清晰的架构设计和摸块划分，以便进行模块化开发和测试。
3. 系统需要具备良好错误处理和日志记录机制，以便快速定位解决问题。

可用性：
1. 系统需要具备良好的用户体验，包括友好的界面设计和操作提示。
2. 系统需要具备良好的国际化支持，能够支持多语言和多时区。
3. 系统需要具备良好的可访问性，满足残障人士的使用需求。

```

#### 3. GPT-4 生成的功能性需求

```
当然可以！在设计一个基于 Spring 框架的教务管理系统时，我们首先需要明确功能需求和非功能需求。以下是一个概括性的需求设计：

一、功能需求：

1. 用户管理：
a. 学生管理：注册、登录、修改个人款查看成绩、选课、退选课程等。
b. 教师管理：注册，登录修改个人信发布课程、发布成绩、审核选课申请等。
c. 管理员管理：录管理用户（增删改查），管理课程、管理教室等。

2. 课程管理：
a. 课程信息管理：课程的增删改查、查看选课学生名单、课程安排等。
b. 选课管理：学生选课、退选、查看已选课程等。
c. 成绩管理：师录成绩、发布成绩、查看成绩统计等。

3. 教室管理：
a. 教室信息管理：教室的增删改查、查看教室使用情况等。
b. 教室预约：教师申请教室、审-室申请、看教室预约情况等。

4. 系统公告：
a. 公告管理：发布公告、修改公告、删除公告等。
b. 公告查看：查看系统公告、查看个人通知等。

二、非功能需求：

1. 性能需求：
a. 系统具备较高的响应速度，保证用户操作的流畅性。
b. 系具备良好的并发处理能力，能在高并发场景下正常运行。

2. 可用性需求：
a. 用户界面应简洁易用，方便用户进行操作。
b. 系统提供详细的操作说明和帮助文档，以便用户快速上手。

3. 安全需求：
a. 系统采用安全的身份认证机制，OAuth2.0、JWT 等。
b. 感进行力嘧存储和传输，保证数据的安全性·
c. 应对常则网络攻击进行防护，如 SQL 注入、XSS 攻击等。

4. 可维需求：
a. 系统具备良好的模块化设计，方便进行功能扩展和维护。
b. 代码应遵循一定含程规范，保证代码质量和可读性。

5. 可扩展性需求：
a. 系统考虑未来可功能扩展，采用灵活的架构设计。
b. 应使用可扩展的数据库设计，方便后期迁移和功能扩展。

6. 兼容性需求：
a. 系统充应能兼容主流览器（如 Chrome、Firefox、Safari、Edge 等）。
b. 适应不同设备和屏幕尺寸，实现响应式布局。

7. 数据备份与恢复：
a. 系定期进行备份，防止数据丢失。
b. 提供数据恢复功能，以便在系统出现问题时速恢复。

8. 日志管理：
a. 系统记录详细的操作日志，便于后期排查问题和审计。
b. 对日志进行定期以减少存储压力。

9. 系统监控：
a. 实时监控系运行状态，如CPU、内存、磁盘使用情况等。
b. 对异常情况进行报警通知，以便及时发现并解决问。
```
#### 4. 结论

仅从功能性需求上看，双方的答复整体没有太大偏差，GPT-3.5 的结果更加详细， GPT-4  的结果相对比较“概括”，与我们问题中的“尽可能完善”有一定出入。

在非功能性需求上看， GPT-4  的结果涉及的内容更加丰富，但缺点是内容与教务系统场景结合并不紧密，反而是 GPT-3.5 考虑到了实际的业务场景。例如关于高并发，GPT-3.5 提到“能够在繁忙的选课期间保持稳定的性能”，而 GPT-4 只是笼统地说“系统应能在高并发场景下正常运行”。

### 17.2.3 需求细化

第二部分，我们模拟实际开发过程中收到初步需求描述，需要进一步细化进行开发和验收的场景。

我们给定一个较为具体的需求描述，要求 ChatGPT 根据该描述进行需求的条目化，同时还要求其识别出尽可能多的用户故事，并写出相应的验收标准。

#### 1. 基于简单需求描述进行细化

我们提前告知 ChatGPT 对后一段文字进行需求的识别和条目化，然后将项目的初步需求描述分别喂给GPT-3.5和 GPT-4 ，获得以下结果：




▲ 项目初步需求描述

为了方便学生自习，学校开放了一批自习室。自习室中的座位利用率不高，经常出现一座难求，同时又有书包占座人却不在的现象。

为了提升座位利用率和周转率，学校一方面考虑动态调整自习室的数量，另一方面也希望采用信息技术手段提升座位的利用率。通过自习座位预约系统，管理员可以设定可用的自习室以及开放时间。大部分自习室是早 7 点到晚 10 点开放（不排除将来有个别教室会通宵开放）。学生则可以查看可用自习室，并预约习时间。

为了提高座位利用率并考虑咸少学生连续学习造劳，每次预约均以整点小时为单位。最多一次性预约 4 小时（系统参数可调）。学生按到达座位后，最好有签到功能。签到应当需要考虑位置信息，比如用手机小程序或类似机制。引入签到功能后在预约时间之前 15 分钟会有推送（邮件推法或微信服务号准送等）提醒；在预约时间之后 10 分钟如果还未签到，则会再次提醒；预约时间 15 分钟后如果还未签到，则自动取消预约、释放座位，并提醒学生，同时后台记录一次违约。

在任意一个时间点，如果当前有空闲的座位，学生发现自己就在附近并且希望使用的话，可以马上抢位并根据整点时间段选择使用时间。在有签到功能情况下，必须在 5 分钟内签到，从而减少座位资源浪费。为了便于使用，学生可以对所需的座位进行搜索。也可以查看历史预定并再次预定该座位。系统可以增加个性化服务，通过收集预定习惯给用户相应的预定推荐。

管理员通过查看自习室和座位的预定情况来调整管理策略，提升资源利用率。为了便于学生在线资料获取和学习，靠近固定插座或者移动导轨座的座位有会有特殊标记，以便学生携带电子设备使用。每个座位目前都是普通座位，为了便于预约，会给予唯一编号并在桌面进行标记（比如贴一个号码，但目前还没有这个号码，需要自己几排哪个座）。末来计划将这个标记做成号码和二维码一体化标签，从而便于预约的学生签到。另外，为方便留学生使用，希望有多语言的版本，可以便捷切换界面语言。




#### 2. GPT-3.5 的需求分解

基于该描述性文字，可以识别出以下软件开发需求：
1．自习座位预约系统：需要开发一个系统，管理员可以可用的自习室
以及开放时间，学生可以看可用自习室，预约自习时矶系统应该能够
提高座位的利用率和周转率，以及方便学生的预定和使用．
2．座位签助能：系统需要实现#助能，该功能疝该考虑位置信就比如用
手彤呈序或类似机制到签助能应该在预约时间之前巧分钟准送提醒，在
预约时间之后10分钟如果还未签到．则冉冫知是醒；郇寸间15分钟后如果还
未签到，则自动取消、释放座位，用是醒学生·
3．
抢座功能：系统需要实现抢座功能，学生在有空闲座位飠〗肖况下，可以根据
整点时间段选择使用时间，在有签助酎肖况下，之顿在5分钟内签到，
从而减少座位资源良秃
4．
搜索和历史预定功能：系统需要提供搜索和历史预定功能．学生可以搜索所
需的座位，也可以資看历史预定并冉次预定该座位．
个性化报务：系统可以增加．个性化服氖通过收集预定习惯给用户相应的预
定准荐．
6
自习室和座劬预纟肖况管理：管理员需要查看自习室和座位的情况来
调整管理策略，提升资源利用率．
7，
特殊标讠编号系统：系统需要扌寺殊标讠编号系统、每个座位应该有
唯一号并在桌面进行标记佳0贴一个号码），未来计划将这个标记做
成号码和二维码一体化标签．从而便于预约的学生签到．
&多语言版本：为方便留学生使用，需要有多语富的版本，可以便捷切换界面



#### 3. GPT-4 的需求分解

根据您提供的描述性文字@我为总结了以下软件开发需求：
1·
自习室座位系统，包括管理员端和学生端·
2．
管理员可以i可用的自习室及开放时间·
3、学生可以資看可用自习室并预约自习时司，最多一次性勺4刁埘（系统参
数可调）。
4
学生按勺大座位后，需要实现签助能，结合位置信息（如手北乳字
或娄似机制）。
5．
预约提醒功能，包括预约前15分钟提醒和预约后10分钅醒．
6．
自动肖i卜耜满15分钟的预约，释放座位．并记录违绷肖况．
7当前有空闲座学生可以即时预约并选择使用时矶
学生可搜索所需座位，看历史预定并再次·
9，
增加/卜性亻0务，根据预定习惯给用户准荐座位．
10．
管理员可以看自习室和座位的预约情况，以调整管理策
靠近插座的座位有持殊标记，方便学生从带电子设备使用．
12、
座位有唯一编号和二维码一体化标签（未来计划），便于学生签到．
多诒言版本，方便留学生使用，可以便捷切换界面语
讴些需求可以作为，件开发项目的基本需求，后续可以根据实际情况进行调
整和优化。


#### 4. 结论

从结果观察， GPT-4 生成的条目更多，对有些需求进行了更细粒度地拆分,对于相同需求的描述也显得更为简单。例如GPT-3.5回复的第二条座位签到功能，在 GPT-4 生成的结果中被细分为了4、5、6三条。

但是需要注意的是，GPT-3.5和 GPT-4 都存在需求遗漏的情况。例如GPT-3.5的结果中缺少关于“靠近插座的座位应该有特殊标记”的需求， GPT-4 的的条目化结果中忽略了“预约必须以整点为单位”这个较为重要的约束。



### 17.2.4 基于需求识别用户故事



做完初步需求分析后，我们尝试让 ChatGPT 生成用户故事，进一步分解任务的细节：



Image
▲ GPT-3.5生成的用户故事



Image
▲  GPT-4 生成的用户故事





从结果上看， GPT-4 表现得要比GPT-3.5要丰富和细致，值得注意的是 GPT-4 在用户故事中使用了第一人称“我”而不是第三人称来进行讲述，或许正是基于这一点，它能够更加“体会”需求中的一些人性化成分，比如第11条的故事中讲述道：“我希望能够清楚地看到靠近插座的座位”，这十分贴合我们日常学习生活中的想法和感受。

此外，前一轮分析中的遗漏在这里的影响也进一步扩大， ChatGPT 构建的系统中似乎彻底遗忘了原始需求中的一部分要求，如果缺少人为检验，这部分的缺失会引起较多后续问题。



### 17.2.5 基于需求制定验收标准



在需求上的最后一步尝试时让 ChatGPT 为我们生成对应需求的验收标准。



Image
▲ GPT-3.5生成的验收标准



Image
▲  GPT-4 生成的验收标准



从验收标准来看，GPT-3.5是以模块为最小单位，而 GPT-4 的结果粒度更细，更易直接实施。





### 17.2.6 编码辅助





第三部分，我们模拟项目的迭代场景，在项目出现新的需求或挑战时，考察 ChatGPT 能否在现有的项目代码基础之上直接为我们生成可用代码及必要的辅助提示。

我们主要考虑以下三个问题：1.给定一段较长的功能性需求的文本，让其进行代码生成以满足需求。2.向其询问非功能性需求的具体实现方式。3.给定部分已经实现的功能性代码，要求其添加非功能性优化代码。



#### 1. 根据功能性需求生成代码



Image
▲ 项目功能需求描述



我们给定了上方这段很长的功能性需求描述，要求 ChatGPT 直接为我们生成代码，尝试它是否具备跨文件设计系统的能力。



Image
▲ GPT-3.5的答复



GPT-3.5在这个问题上打了太极，回避了直接生成代码，只用自然语言进行了一部分步骤描述，这自然不是我们所期待的，于是我们尝试针对某一需求进行更加细致的提问：



Image
Image
Image


▲ GPT-3.5生成的代码



任务细化后，GPT-3.5就用户模块的内容生成了具体代码，并且按照文件和架构拆分为了controller、service、dao三部分，符合Spring框架的开发习惯，几乎是拿来即用的。



而在 GPT-4 上进行相同的尝试，我们发现 GPT-4 在面对最初的长篇需求时，就直接按照要求进行了代码的生成。



Image
Image
Image
Image
Image
Image


 GPT-4 不仅进行了完成了从需求分析、设计、实体抽取到代码框架的编写，而且以用户模块为例，展示了controller层和service层的具体写法，相较于GPT-3.5，还考虑到了service层的接口和实现，内容非常细致。以它呈现的大体框架为出发点，还可以针对相应的部分进行进一步的代码生成，逐渐形成系统级别的代码。



Image
Image
Image
Image
Image
▲ 要求生成其他模块的代码



这里值得注意的是，在进行进一步提问以获取更加详细的功能代码时，需求描述应尽量清晰。例如即便第一轮提问已经涉及了全部功能，但要求 ChatGPT 实现具体功能代码时，列出需要实现的具体功能名称（例如提问”能否给出个人信息维护、学院/专业信息维护的具体实现代码“）比简单使用代词（例如提问”能否给出上述功能的具体实现代码“）的效果要更好。



现在我们已经得到了 ChatGPT 为教务管理系统生成的一个大体的代码框架，接下来我们将在IDEA中新建一个Maven项目，并把这些代码放入相应的java文件中观察代码是否存在错误，并且根据代码来让 ChatGPT 回答、解决相关的问题。



Image
▲ 项目目录



首先观察Controller中的代码，在此过程中，我误将其中的ResponseEntity认为是一个自定义的实体类，故而在此我要求其生成一个ResponseEntity实体类。但 ChatGPT 没有受到我的“误导”，而是纠正了我的错误，同时解释了该实体类该如何使用。



Image
▲  ChatGPT 并没有受到“误导”



在按照它的建议导入完包之后，各个Controller类本身便不存在问题了，现在需要将目光投向Service类。在之前的过程中 ChatGPT 只为我们生成了UserService及UserServiceImpl，所以还需要生成Major与College的Service接口及其实现类：



Image
Image
Image
Image
▲  GPT-4 生成的回复



这里生成的代码出了一些问题，在CollegeController中存在一个if判断：



Image
▲ CollegeController中的if判断



所以deleteCollege方法应当返回一个布尔值，但其生成的代码却不返回值，看起来就像 ChatGPT “不记得”之前写过的代码，没有做到前后对应：



Image
▲ 生成的错误返回值代码



我们对 ChatGPT 的错误进行了纠正，并让它重新生成了回复，这次生成了正确的代码：



Image
Image
Image
Image
▲  GPT-4 纠正后的回复



就生成的代码，我们提问了依赖相关的问题， ChatGPT 为我们生成了导入依赖的代码：



Image
▲  GPT-4 关于依赖的回复



但是 ChatGPT 生成的测试代码中使用的是像@RunWith这样的JUnit4中的注解，而它却让我们添加的却是JUnit5的依赖，经过提醒后它对结果进行了修正：



Image
▲  GPT-4 纠正后的回复



总体来看，当 ChatGPT 收到一个较为宏观、复杂度较大的需求时，它通常可以从整体上对其作出分析，并能够在框架上生成出代码，但是这些代码可能不够完整、正确、缺少必要的依赖，不能直接拿来运行，而是需要根据开发者进一步的询问来逐渐引导其生成粒度更小的代码片段或代码文件、或是询问其所需要的依赖。但是在这个诱导的过程中， ChatGPT 可能会“遗忘”之前生成过的代码，造成如方法名、方法返回值前后不一这样的问题，譬如在上面的过程中另外还发现CollegeController 中调用了collegeService的createCollege方法，但 ChatGPT 却在此次生成时把createCollege方法替换（更名）成了saveCollege方法；也会有依赖版本不对应这样的问题，但如果开发者注意到了问题并提醒 ChatGPT ，那么它就能意识到并尝试纠正这些问题。





#### 2. 在现有代码上迭代新需求



我们尝试在一个现有系统上添加一些非功能性优化，首先询问 ChatGPT 关于优化的措施与具体代码，再让它将这些代码直接嵌入我们现有的系统中。



Image
Image
▲ GPT-3.5的优化建议



Image
▲  GPT-4 的优化建议



在理论性的知识上，双方都可以出了很多可行的措施，相较之下， GPT-4 给出的建议更丰富、更具统领性。针对双方建议中都提及的缓存，我们要求给出具体的代码：



Image
Image
▲ GPT-3.5的回复



Image
Image
Image
Image
▲  GPT-4 的回复



尽管GPT-3.5给出的结果已经让人很满意，但是 GPT-4 依然胜在给出了详细的配置缓存的步骤，说明其考虑到了实际开发中代码以外的因素。



#### 3. 基于现有代码直接修改



最后一步，我们给出了一段实际的代码，要求 ChatGPT 在原来代码的基础上添加缓存功能。


Image
▲ 给定现有代码要求加入缓存



Image
Image
Image
▲ GPT-3.5的答复（代码有省略）



Image
Image
Image
Image
Image
Image
▲  GPT-4 的答复（代码有省略）



GPT-3.5和 GPT-4 都能以不同的方式为代码添加缓存机制，但是 GPT-4 考虑得情况更加多变，几乎生成了一篇关于缓存机制的示例博文。例如它考虑移除过多的缓存条目可能会对性能有较大影响，因此给用户提供了另一个选择。



### 17.2.5 总结





总体上说，在我们结合实际项目的上手体验后，认为 GPT-4 和GPT-3.5在通用知识上的能力是比较一致的，都可以生成可解释性很强的回答，准确性也非常高，相较于传统的大模型而言， ChatGPT 的能力是遥遥领先的。而 GPT-4 相较于GPT-3.5的主要优点可能在于它在保留了通用知识的高准确性的同时，能够考虑更多任务中的细节，并更适配具体的场景。对于开发人员来说，这种能力可以帮助他们快速地将 ChatGPT 接入自己项目的特定上下文中，并且生成更可靠的代码。

此外，我们也总结出了一些其他实践经验和感受。



5.1 提示质量对于 ChatGPT 性能的影响



 ChatGPT 可以为程序员编写代码提供强有力的帮助和支持已经是软工领域的共识。然而，我们发现， ChatGPT 能够提供多大的帮助，很大程度取决于提问的方式和提示的质量。



1. 精准的需求描述



在提出问题之前，提问者需要仔细地考虑问题的范围和具体需求。无论是期望使用的语言，框架，还是期望实现的功能或非功能代码，都应尽可能详细地进行描述，避免使用较为笼统的词汇和指代不明的代词，以便 ChatGPT 能够根据这些提示产生更加准确的回答。



2. 划分子任务，提问由浅入深



提问者需要擅长拆解问题，将一个庞大的项目拆解成为一个个需求明确的小任务，提问时问题需要由浅入深，由粗到细，才能一步步引导 ChatGPT 给出更加具体切实的回答。



从4.1的尝试结果中我们可以看出，如果一开始将一个完整的大项目直接让 ChatGPT 完成， ChatGPT 只能给出较为通用笼统的答案， GPT-4 的表现好于GPT-3.5，但依然无法一次性生成项目所需的全部代码。因此，提问时应该先将背景信息提供给 ChatGPT ，再在此基础上让 ChatGPT 依次实现拆解后代码量不大的的子任务，以此引导 ChatGPT 提供最大限度的帮助。



3. 提问“刨根问底”



提问者想要得到尽可能详细和准确的答案，还需要发挥”刨根问底“的精神。一方面，从我们的尝试中可以看出，很多代码细节 ChatGPT 并不会在一开始就给出，但通过不断追问细节， ChatGPT 其实有能力给出非常具体的回答。此外， ChatGPT 生成的内容不一定总是正确的，如果对生成的内容有质疑，可以直接向 ChatGPT 提出，让其进行解释或引导它更正回答，而不要盲目轻信。



因此，为了最大限度发挥 ChatGPT 的优势，未来程序员需要具备精准详细提问、拆解问题以及逐步深入引导 ChatGPT 生成具体代码的能力。只有这样才能与 ChatGPT 高效合作，共同完成软件开发任务。



5.2  ChatGPT 的不足



1.无法支持复杂软件的端到端开发



从4.1的尝试中可以看出，从自然语言的需求描述到最终可以编译运行的代码中间，需要不断的细化提问。 ChatGPT 更偏向于给出一个代码实现框架，内部很多具体的方法和所需依赖都难以一次性生成，而需要提问者在实际编译运行中不断发现问题，进一步细粒度提问。但在进一步诱导生成更细粒度代码的过程中， ChatGPT 可能会“遗忘”之前生成的代码（例如随着轮次的增加， ChatGPT 新生成的代码变得不符合之前轮次中所生成的代码上下文）。因此，目前 ChatGPT 对于软件开发的辅助仍然难以达到完全端到端的程度，软件开发的”最后一公里“仍然需要程序员自身不断进行调试修改与完善。



2. 具有较大随机性。



相同的问题，多次提问 ChatGPT 后产生的回答可能截然不同，总体来说生成结果具有较大随机性，这对于一些想要利用 ChatGPT 进行的科学研究可能存在一定程度的影响。例如，如果想要研究不同提示模板对于生成内容的影响，可能无法确定是提示模板更换带来的生成效果改善，还是单纯随机生成的结果。



3.无法保证正确性。


“一本正经地胡说八道”是很多人诟病 ChatGPT 存在的问题，这一问题目前仍然没有得到很好的解决，即使是 GPT-4 生成的内容也依然无法保证正确性。这就要求利用 ChatGPT 辅助软件开发的程序员自身拥有一定的背景知识和项目理解，仔细评估 ChatGPT 的回答，并进行必要的修改和调整，以确保生成的代码符合实际需求。



复旦大学 CodeWisdom团队

